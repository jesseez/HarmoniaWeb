(this["webpackJsonpharmonia-web"]=this["webpackJsonpharmonia-web"]||[]).push([[0],{30:function(t,e,n){t.exports=n(42)},35:function(t,e,n){},36:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(12),s=n.n(o),r=(n(35),n(25)),l=n(2),c=(n(36),n(9)),u=n(10),h=n(28),d=n(26),y=n(56),f=n(27),w=window.AudioContext||window.webkitAudioContext,v=function(){function t(){Object(c.a)(this,t),this.oscillatorConnectionPool=[]}return Object(u.a)(t,[{key:"getOscillator",value:function(){var e=this.oscillatorConnectionPool.find((function(t){return t.available}));if(null==e){var n=t.audioContext.createOscillator();n.connect(t.audioContext.destination),e=new p(n)}return e.available=!1,e.oscillator}},{key:"returnOscillator",value:function(t){var e=this.oscillatorConnectionPool.find((function(e){return e.oscillator===t}));null!=e&&(e.available=!0)}}]),t}();v.audioContext=new w;var p=function t(e){Object(c.a)(this,t),this.oscillator=e,this.available=!0},m=function(t,e){return 1/(e/60)*t.noteLength},b=function(){function t(e){Object(c.a)(this,t),this.tempo=null!==e&&void 0!==e?e:120,this._oscillatorsInUse=[]}return Object(u.a)(t,[{key:"play",value:function(e){var n=t.oscillatorPool.getOscillator();this._oscillatorsInUse.push(n),n.frequency.value=e.getFrequency(),n.start();var a=m(e,this.tempo);n.stop(v.audioContext.currentTime+a),n.onended=this._freeOscillator.bind(this,n)}},{key:"_freeOscillator",value:function(e){t.oscillatorPool.returnOscillator(e),this._oscillatorsInUse.splice(this._oscillatorsInUse.indexOf(e),1)}},{key:"stop",value:function(){this._oscillatorsInUse.forEach((function(t){return t.stop()}))}}]),t}();b.oscillatorPool=new v;var g=function(){function t(){Object(c.a)(this,t),this.audioPlayer=new b,this.song=[],this._scheduledEvents=[],this.state=t.state.ready,this._startTime=0,this._startLocation=0}return Object(u.a)(t,[{key:"reset",value:function(){this._scheduledEvents=[],this.state=t.state.ready,this._startTime=0,this._startLocation=0}},{key:"isPlaying",value:function(){return this.state===t.state.playing}},{key:"isEnded",value:function(){return this.state===t.state.ended}},{key:"setSong",value:function(t){this.song=t,this.reset()}},{key:"setTempo",value:function(t){if(null!=t){var e=this.isPlaying(),n=this.audioPlayer.tempo;this.audioPlayer.tempo=t,this.pause(),this._startLocation=this._startLocation*n/t,e&&this.play()}}},{key:"play",value:function(){if(this.isEnded()&&(this.state=t.state.ready),0!==this.song.length&&!this.isPlaying()&&!this.isEnded()){this._startTime=Date.now(),this.state=t.state.playing;var e,n=0,a=Object(f.a)(this.song);try{for(a.s();!(e=a.n()).done;){var i=e.value,o=1e3*m(i,this.audioPlayer.tempo);0!==i.noteValue&&n+o>=this._startLocation&&this._scheduledEvents.push(setTimeout(this._playNote.bind(this),n-this._startLocation,i)),n+=o}}catch(s){a.e(s)}finally{a.f()}}}},{key:"_playNote",value:function(t){this.audioPlayer.play(t)}},{key:"pause",value:function(){if(this.state===t.state.playing){this.state=t.state.paused;var e=Date.now();this._startLocation=e-this._startTime,this._scheduledEvents.forEach((function(t){return clearTimeout(t)})),this._scheduledEvents=[]}}}]),t}();g.state={ready:"ready",playing:"playing",paused:"paused",ended:"ended"};var _=function(){function t(e,n){Object(c.a)(this,t),this.noteValue=e,this.noteLength=n}return Object(u.a)(t,[{key:"getFrequency",value:function(){return t._baseFrequency*Math.pow(t._frequencyStep,this.noteValue-t._baseNoteValue)}}]),t}();_._frequencyStep=Math.pow(2,1/12),_._baseFrequency=440,_._baseNoteValue=58;var k=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).songPlayer=new g,t.songPlayer.setSong(O),t.songPlayer.setTempo(120),t}return Object(u.a)(n,[{key:"startAudio",value:function(){this.songPlayer.play()}},{key:"stopAudio",value:function(){this.songPlayer.pause()}},{key:"render",value:function(){return i.a.createElement("div",null,"HI",i.a.createElement(y.a,{onClick:this.startAudio.bind(this)},"play"),i.a.createElement(y.a,{onClick:this.stopAudio.bind(this)},"pause"))}}]),n}(i.a.Component),O=[new _(53,1),new _(61,1.5),new _(60,.5),new _(58,.5),new _(53,.5),new _(58,1.5),new _(53,1.5),new _(46,1),new _(51,1.5),new _(54,1),new _(51,.5),new _(54,.5),new _(49,.5),new _(48,2.5),new _(46,.5),new _(51,.5),new _(58,.5),new _(53,1),new _(61,1.5),new _(68,.5),new _(70,.5),new _(61,.5),new _(66,1.5),new _(65,1.5),new _(58,.5),new _(49,.5),new _(51,1.5),new _(53,1),new _(49,.5),new _(48,.5),new _(44,.5),new _(46,1.5),new _(44,2)];var E=function(){return i.a.createElement(r.a,{basename:"/"},i.a.createElement("div",{className:"App"},i.a.createElement(l.a,{exact:!0,path:"/",component:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.441f1f68.chunk.js.map